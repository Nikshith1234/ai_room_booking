2026-02-20 14:14:34 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:14:34 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 14:14:34 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 14:14:34 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 14:14:34 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 14:14:34 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 14:14:34 [INFO] RoomBookingAgent:   Headless : true
2026-02-20 14:14:34 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:14:34 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:14:34 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:14:36 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:14:38 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:14:38 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 14:14:38 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 14:14:38 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 14:14:38 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 14:15:39 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:16:38 IST)" (scheduled at 2026-02-20 14:15:38.952992+05:30)
2026-02-20 14:15:39 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:15:39 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:15:39 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:15:42 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:15:42 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:16:38 IST)" executed successfully
2026-02-20 14:16:38 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:17:38 IST)" (scheduled at 2026-02-20 14:16:38.952992+05:30)
2026-02-20 14:16:38 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:16:38 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:16:39 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:16:41 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 14:16:42 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 14:16:42 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 14:16:43 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 14:16:43 [WARNING] BookingParser: âš ï¸ Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK2fan5DZxo3nj542Q6y'}), falling back to regex.
2026-02-20 14:16:43 [INFO] BookingParser: â„¹ï¸ Used regex for parsing.
2026-02-20 14:16:43 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:16:43 [INFO] BookingService: ðŸŒ Launching browser ...
2026-02-20 14:16:48 [INFO] BookingService: ðŸ”‘ Logging in ...
2026-02-20 14:16:52 [INFO] BookingService: âœ… Logged in â†’ https://booking.heykoala.ai/
2026-02-20 14:16:52 [INFO] BookingService: ðŸ“‹ Navigating to Bookings ...
2026-02-20 14:17:22 [ERROR] BookingService: Timeout: Page.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("a:has-text(\"Bookings\")")

2026-02-20 14:17:23 [INFO] BookingService: ðŸ“¸ Screenshot â†’ logs/screenshot_timeout_20260220_141722.png
2026-02-20 14:17:23 [INFO] BookingService: ðŸŒ Browser closed.
2026-02-20 14:17:23 [WARNING] RoomBookingAgent: Booking failed: The booking website timed out. Please try again.
2026-02-20 14:17:26 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 14:17:29 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 14:17:29 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:17:38 IST)" executed successfully
2026-02-20 14:17:38 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:18:38 IST)" (scheduled at 2026-02-20 14:17:38.952992+05:30)
2026-02-20 14:17:38 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:17:38 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:17:39 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:17:41 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:17:41 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:18:38 IST)" executed successfully
2026-02-20 14:17:58 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 14:19:33 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:19:33 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 14:19:33 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 14:19:33 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 14:19:33 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 14:19:33 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 14:19:33 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 14:19:33 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:19:33 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:19:33 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:19:35 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:19:38 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:19:38 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 14:19:38 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 14:19:38 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 14:19:38 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 14:20:38 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:21:38 IST)" (scheduled at 2026-02-20 14:20:38.033718+05:30)
2026-02-20 14:20:38 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:20:38 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:20:38 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:20:40 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 14:20:41 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 14:20:41 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 14:20:42 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 14:20:42 [WARNING] BookingParser: âš ï¸ Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK2yCLx9h6aCa88XZucs'}), falling back to regex.
2026-02-20 14:20:42 [INFO] BookingParser: â„¹ï¸ Used regex for parsing.
2026-02-20 14:20:42 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:20:42 [INFO] BookingService: ðŸŒ Launching browser ...
2026-02-20 14:20:45 [INFO] BookingService: ðŸ”‘ Logging in ...
2026-02-20 14:20:47 [INFO] BookingService: âœ… Logged in â†’ https://booking.heykoala.ai/
2026-02-20 14:20:47 [INFO] BookingService: ðŸ“‹ Navigating to Bookings ...
2026-02-20 14:21:17 [ERROR] BookingService: Timeout: Page.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("a:has-text(\"Bookings\")")

2026-02-20 14:21:18 [INFO] BookingService: ðŸ“¸ Screenshot â†’ logs/screenshot_timeout_20260220_142117.png
2026-02-20 14:21:19 [INFO] BookingService: ðŸŒ Browser closed.
2026-02-20 14:21:19 [WARNING] RoomBookingAgent: Booking failed: The booking website timed out. Please try again.
2026-02-20 14:21:22 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 14:21:24 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 14:21:24 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:21:38 IST)" executed successfully
2026-02-20 14:21:34 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 14:22:34 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:22:34 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 14:22:34 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 14:22:34 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 14:22:34 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 14:22:34 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 14:22:34 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 14:22:34 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:22:34 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:22:34 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:22:35 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:22:37 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 14:22:38 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 14:22:38 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 14:22:39 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 14:22:39 [WARNING] BookingParser: âš ï¸ Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK37p8EGigmdvdnLj793'}), falling back to regex.
2026-02-20 14:22:39 [INFO] BookingParser: â„¹ï¸ Used regex for parsing.
2026-02-20 14:22:39 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:22:39 [INFO] BookingService: ðŸŒ Launching browser ...
2026-02-20 14:22:41 [INFO] BookingService: ðŸ”‘ Logging in ...
2026-02-20 14:22:43 [INFO] BookingService: âœ… Logged in â†’ https://booking.heykoala.ai/
2026-02-20 14:22:43 [INFO] BookingService: ðŸ“‹ Navigating to Bookings ...
2026-02-20 14:23:13 [ERROR] BookingService: Timeout: Page.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("a:has-text(\"Bookings\")")

2026-02-20 14:23:13 [INFO] BookingService: ðŸ“¸ Screenshot â†’ logs/screenshot_timeout_20260220_142313.png
2026-02-20 14:23:14 [INFO] BookingService: ðŸŒ Browser closed.
2026-02-20 14:23:14 [WARNING] RoomBookingAgent: Booking failed: The booking website timed out. Please try again.
2026-02-20 14:23:18 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 14:23:20 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 14:23:20 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 14:23:20 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 14:23:20 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 14:23:20 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 14:23:27 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 14:31:47 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:31:47 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 14:31:47 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 14:31:47 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 14:31:47 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 14:31:47 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 14:31:47 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 14:31:47 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:31:47 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:31:47 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:31:50 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:31:52 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:31:52 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 14:31:52 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 14:31:52 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 14:31:52 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 14:32:52 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:33:52 IST)" (scheduled at 2026-02-20 14:32:52.598754+05:30)
2026-02-20 14:32:52 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:32:52 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:32:53 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:32:55 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 14:32:56 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 14:32:56 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 14:32:57 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 14:32:57 [WARNING] BookingParser: âš ï¸ Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK3uMrTJ1tJDKLp1EmSf'}), falling back to regex.
2026-02-20 14:32:57 [INFO] BookingParser: â„¹ï¸ Used regex for parsing.
2026-02-20 14:32:57 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:32:57 [INFO] BookingService: Launching browser ...
2026-02-20 14:33:01 [INFO] BookingService: Logging in ...
2026-02-20 14:33:05 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 14:33:05 [INFO] BookingService: Clicking Bookings in sidebar ...
2026-02-20 14:33:07 [INFO] BookingService: Clicked Bookings via nav text
2026-02-20 14:33:08 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 14:33:08 [INFO] BookingService: Clicking + Create Booking button ...
2026-02-20 14:33:09 [INFO] BookingService: Clicked Create Booking via: button:has-text("Create Booking")
2026-02-20 14:33:10 [INFO] BookingService: Modal opened.
2026-02-20 14:33:10 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:33:10 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 14:33:40 [ERROR] BookingService: Timeout: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 14:33:41 [INFO] BookingService: Screenshot saved: logs/screenshot_timeout_20260220_143340.png
2026-02-20 14:33:41 [INFO] BookingService: Browser closed.
2026-02-20 14:33:41 [WARNING] RoomBookingAgent: Booking failed: Website timed out. Please try again.
2026-02-20 14:33:45 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 14:33:48 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 14:33:48 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:33:52 IST)" executed successfully
2026-02-20 14:33:52 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:34:52 IST)" (scheduled at 2026-02-20 14:33:52.598754+05:30)
2026-02-20 14:33:52 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:33:52 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:33:52 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:33:54 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 14:33:55 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:33:55 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:34:52 IST)" executed successfully
2026-02-20 14:44:49 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:44:49 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 14:44:49 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 14:44:49 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 14:44:49 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 14:44:49 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 14:44:49 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 14:44:49 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:44:49 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:44:49 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:44:51 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:44:53 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:44:53 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 14:44:53 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 14:44:53 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 14:44:53 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 14:45:53 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:46:53 IST)" (scheduled at 2026-02-20 14:45:53.801392+05:30)
2026-02-20 14:45:53 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:45:53 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:45:54 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:45:56 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:45:56 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:46:53 IST)" executed successfully
2026-02-20 14:46:53 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:47:53 IST)" (scheduled at 2026-02-20 14:46:53.801392+05:30)
2026-02-20 14:46:53 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:46:53 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:46:54 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:46:56 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 14:46:57 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 14:46:57 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 14:46:58 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 14:46:58 [WARNING] BookingParser: âš ï¸ Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK4yLDTgViibQceYQmy6'}), falling back to regex.
2026-02-20 14:46:58 [INFO] BookingParser: â„¹ï¸ Used regex for parsing.
2026-02-20 14:46:58 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:46:58 [INFO] BookingService: Launching browser ...
2026-02-20 14:47:01 [INFO] BookingService: Logging in ...
2026-02-20 14:47:04 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 14:47:04 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 14:47:38 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 14:47:38 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 14:47:39 [INFO] BookingService: Modal opened.
2026-02-20 14:47:39 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:47:39 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 14:47:53 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:47:53 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 14:48:10 [WARNING] BookingService:   Date fill error for index 0: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 14:48:40 [ERROR] BookingService:   Date fallback also failed: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 14:48:40 [INFO] BookingService:   check-in -> 2026-03-22
2026-02-20 14:48:53 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:48:53 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 14:49:10 [WARNING] BookingService:   Date fill error for index 1: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)

2026-02-20 14:49:40 [ERROR] BookingService:   Date fallback also failed: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)

2026-02-20 14:49:40 [INFO] BookingService:   check-out -> 2026-03-25
2026-02-20 14:49:41 [INFO] BookingService:   Room options available: ['All Status', 'Confirmed', 'Cancelled']
2026-02-20 14:49:41 [WARNING] BookingService:   Could not match 'Deluxe', selected first available option
2026-02-20 14:49:41 [WARNING] BookingService:   Adults error: 'Locator' object has no attribute 'triple_click'
2026-02-20 14:49:41 [WARNING] BookingService:   Children error: 'Locator' object has no attribute 'triple_click'
2026-02-20 14:49:42 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_144941.png
2026-02-20 14:49:42 [INFO] BookingService: Form filled - screenshot saved to logs/
2026-02-20 14:49:42 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 14:49:44 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_144944.png
2026-02-20 14:49:45 [INFO] BookingService: Browser closed.
2026-02-20 14:49:45 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 14:49:49 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 14:49:52 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 14:49:52 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:49:53 IST)" executed successfully
2026-02-20 14:49:53 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:50:53 IST)" (scheduled at 2026-02-20 14:49:53.801392+05:30)
2026-02-20 14:49:53 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:49:53 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:49:54 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:49:56 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:49:56 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:50:53 IST)" executed successfully
2026-02-20 14:50:06 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 14:56:46 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:56:46 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 14:56:46 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 14:56:46 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 14:56:46 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 14:56:46 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 14:56:46 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 14:56:46 [INFO] RoomBookingAgent: ============================================================
2026-02-20 14:56:46 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:56:46 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:56:49 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:56:51 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 14:56:51 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 14:56:51 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 14:56:51 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 14:56:51 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 14:57:51 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:58:51 IST)" (scheduled at 2026-02-20 14:57:51.651558+05:30)
2026-02-20 14:57:51 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 14:57:51 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 14:57:52 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 14:57:54 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 14:57:55 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 14:57:55 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 14:57:55 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 14:57:55 [WARNING] BookingParser: âš ï¸ Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK5oppVmZngfudsLaU5s'}), falling back to regex.
2026-02-20 14:57:55 [INFO] BookingParser: â„¹ï¸ Used regex for parsing.
2026-02-20 14:57:55 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:57:55 [INFO] BookingService: Launching browser ...
2026-02-20 14:57:58 [INFO] BookingService: Logging in ...
2026-02-20 14:58:02 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 14:58:02 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 14:58:35 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 14:58:35 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 14:58:37 [INFO] BookingService: Modal opened.
2026-02-20 14:58:37 [INFO] BookingService: Filling form with: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 14:58:37 [INFO] BookingService:   guest name -> nikshith nikshith
2026-02-20 14:58:37 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 14:58:51 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:58:51 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 14:59:07 [WARNING] BookingService:   Date fill error [0]: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 14:59:07 [INFO] BookingService:   Date[0] set via JS -> 03/22/2026
2026-02-20 14:59:07 [INFO] BookingService:   check-in -> 2026-03-22
2026-02-20 14:59:37 [WARNING] BookingService:   Date fill error [1]: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)

2026-02-20 14:59:37 [INFO] BookingService:   Date[1] set via JS -> 03/25/2026
2026-02-20 14:59:37 [INFO] BookingService:   check-out -> 2026-03-25
2026-02-20 14:59:38 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 14:59:51 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 14:59:51 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:00:08 [WARNING] BookingService:   Adults error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").first
    - locator resolved to <input min="1" id="roomId" required="" type="number"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    57 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:00:38 [WARNING] BookingService:   Children error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").nth(1)
    - locator resolved to <input value="2" required="" type="number" id="adultsCapacity"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    57 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:00:38 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_150038.png
2026-02-20 15:00:38 [INFO] BookingService: Form filled - screenshot saved to logs/
2026-02-20 15:00:38 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 15:00:41 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_150041.png
2026-02-20 15:00:42 [INFO] BookingService: Browser closed.
2026-02-20 15:00:42 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 15:00:47 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 15:00:51 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 15:00:51 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:00:51 IST)" executed successfully
2026-02-20 15:00:51 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:01:51 IST)" (scheduled at 2026-02-20 15:00:51.651558+05:30)
2026-02-20 15:00:51 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:00:51 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:00:52 [INFO] BookingParser: âœ… Claude AI parser initialized.
2026-02-20 15:00:52 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 15:00:54 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 15:00:54 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:01:51 IST)" executed successfully
2026-02-20 15:09:20 [INFO] RoomBookingAgent: ============================================================
2026-02-20 15:09:20 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 15:09:20 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 15:09:20 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 15:09:20 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 15:09:20 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 15:09:20 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 15:09:20 [INFO] RoomBookingAgent: ============================================================
2026-02-20 15:09:20 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:09:20 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:09:22 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:09:24 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 15:09:24 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 15:09:24 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 15:09:24 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 15:09:24 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 15:10:24 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:11:24 IST)" (scheduled at 2026-02-20 15:10:24.888299+05:30)
2026-02-20 15:10:24 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:10:24 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:10:25 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:10:28 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 15:10:29 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 15:10:29 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 15:10:30 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 15:10:30 [WARNING] BookingParser: Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK6mScps2XEN3Ezoj4nB'}), falling back to regex.
2026-02-20 15:10:30 [INFO] BookingParser: Used regex for parsing.
2026-02-20 15:10:30 [INFO] BookingParser: Final parsed details: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0}
2026-02-20 15:10:30 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 15:10:30 [INFO] BookingService: Launching browser ...
2026-02-20 15:10:32 [INFO] BookingService: Logging in ...
2026-02-20 15:10:36 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 15:10:36 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 15:11:09 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 15:11:09 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 15:11:11 [INFO] BookingService: Modal opened.
2026-02-20 15:11:11 [INFO] BookingService: Filling form with: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 15:11:11 [INFO] BookingService:   guest name -> nikshith nikshith
2026-02-20 15:11:12 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 15:11:24 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:11:24 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:11:42 [WARNING] BookingService:   Date fill error [0]: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 15:11:42 [INFO] BookingService:   Date[0] set via JS -> 03/22/2026
2026-02-20 15:11:42 [INFO] BookingService:   check-in -> 2026-03-22
2026-02-20 15:12:12 [WARNING] BookingService:   Date fill error [1]: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)

2026-02-20 15:12:12 [INFO] BookingService:   Date[1] set via JS -> 03/25/2026
2026-02-20 15:12:12 [INFO] BookingService:   check-out -> 2026-03-25
2026-02-20 15:12:12 [INFO] BookingService:   Found 4 select elements
2026-02-20 15:12:12 [INFO] BookingService:   Select[0] options: ['All Status', 'Confirmed', 'Cancelled']
2026-02-20 15:12:12 [INFO] BookingService:   Skipping Select[0] - it's the status filter
2026-02-20 15:12:12 [INFO] BookingService:   Select[3] options: ['Select Room Type', 'Premium Suite (â‚¹9440/night)', 'Deluxe Room (â‚¹7150/night)', 'Executive Room (â‚¹6050/night)', 'Family Suite (â‚¹12100/night)', 'Deluxe Sea View Room (â‚¹20060/night)', 'Presidential suite (â‚¹11800/night)']
2026-02-20 15:12:12 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 15:12:24 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:12:24 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:12:42 [WARNING] BookingService:   Adults error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").first
    - locator resolved to <input min="1" id="roomId" required="" type="number"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    57 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:13:12 [WARNING] BookingService:   Children error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").nth(1)
    - locator resolved to <input value="2" required="" type="number" id="adultsCapacity"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    56 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:13:13 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_151313.png
2026-02-20 15:13:13 [INFO] BookingService: Form filled - screenshot saved to logs/
2026-02-20 15:13:13 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 15:13:16 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_151315.png
2026-02-20 15:13:16 [INFO] BookingService: Browser closed.
2026-02-20 15:13:17 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 15:13:20 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 15:13:22 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 15:13:22 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:13:24 IST)" executed successfully
2026-02-20 15:13:24 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:14:24 IST)" (scheduled at 2026-02-20 15:13:24.888299+05:30)
2026-02-20 15:13:24 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:13:24 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:13:25 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 15:13:25 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:13:28 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 15:13:28 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:14:24 IST)" executed successfully
2026-02-20 15:18:19 [INFO] RoomBookingAgent: ============================================================
2026-02-20 15:18:19 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 15:18:19 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 15:18:19 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 15:18:19 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 15:18:19 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 15:18:19 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 15:18:19 [INFO] RoomBookingAgent: ============================================================
2026-02-20 15:18:19 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:18:19 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:18:20 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:18:23 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 15:18:23 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 15:18:23 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 15:18:23 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 15:18:23 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 15:19:23 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:20:23 IST)" (scheduled at 2026-02-20 15:19:23.175824+05:30)
2026-02-20 15:19:23 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:19:23 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:19:23 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:19:25 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 15:19:26 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 15:19:26 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 15:19:27 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 15:19:27 [WARNING] BookingParser: Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK7T4hpJ6xnFf41WNaBK'}), falling back to regex.
2026-02-20 15:19:27 [INFO] BookingParser: Used regex for parsing.
2026-02-20 15:19:27 [INFO] BookingParser: Final parsed details: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0}
2026-02-20 15:19:27 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 15:19:27 [INFO] BookingService: Launching browser ...
2026-02-20 15:19:30 [INFO] BookingService: Logging in ...
2026-02-20 15:19:33 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 15:19:33 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 15:20:07 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 15:20:07 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 15:20:09 [INFO] BookingService: Modal opened.
2026-02-20 15:20:09 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 15:20:09 [INFO] BookingService:   name -> nikshith nikshith
2026-02-20 15:20:09 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 15:20:23 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:20:23 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:20:39 [WARNING] BookingService:   Date fill error [0]: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 15:20:39 [INFO] BookingService:   Date[0] JS fallback -> 03/22/2026
2026-02-20 15:21:09 [WARNING] BookingService:   Date fill error [1]: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)

2026-02-20 15:21:09 [INFO] BookingService:   Date[1] JS fallback -> 03/25/2026
2026-02-20 15:21:09 [INFO] BookingService:   Found 4 select elements on page
2026-02-20 15:21:09 [INFO] BookingService:   Select[0] options: ['All Status', 'Confirmed', 'Cancelled']
2026-02-20 15:21:09 [INFO] BookingService:   Skipping Select[0] (status filter)
2026-02-20 15:21:09 [INFO] BookingService:   Select[3] options: ['Select Room Type', 'Premium Suite (â‚¹9440/night)', 'Deluxe Room (â‚¹7150/night)', 'Executive Room (â‚¹6050/night)', 'Family Suite (â‚¹12100/night)', 'Deluxe Sea View Room (â‚¹20060/night)', 'Presidential suite (â‚¹11800/night)']
2026-02-20 15:21:09 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 15:21:23 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:21:23 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:21:40 [WARNING] BookingService:   Adults error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").first
    - locator resolved to <input min="1" id="roomId" required="" type="number"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    57 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:22:10 [WARNING] BookingService:   Children error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").nth(1)
    - locator resolved to <input value="2" required="" type="number" id="adultsCapacity"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    57 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:22:10 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_152210.png
2026-02-20 15:22:10 [INFO] BookingService: Form filled.
2026-02-20 15:22:10 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 15:22:13 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_152213.png
2026-02-20 15:22:14 [INFO] BookingService: Browser closed.
2026-02-20 15:22:14 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 15:22:18 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 15:22:20 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 15:22:20 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:22:23 IST)" executed successfully
2026-02-20 15:22:22 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 15:28:27 [INFO] RoomBookingAgent: ============================================================
2026-02-20 15:28:27 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 15:28:27 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 15:28:27 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 15:28:27 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 15:28:27 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 15:28:27 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 15:28:27 [INFO] RoomBookingAgent: ============================================================
2026-02-20 15:28:27 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:28:27 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:28:28 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:28:31 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 15:28:31 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 15:28:31 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 15:28:31 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 15:28:31 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 15:29:31 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:30:31 IST)" (scheduled at 2026-02-20 15:29:31.572620+05:30)
2026-02-20 15:29:31 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 15:29:31 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 15:29:31 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 15:29:34 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 15:29:35 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 15:29:35 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 15:29:36 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 15:29:36 [WARNING] BookingParser: Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYK8DvNGjUEiepfYq3r3X'}), falling back to regex.
2026-02-20 15:29:36 [INFO] BookingParser: Used regex for parsing.
2026-02-20 15:29:36 [INFO] BookingParser: Final parsed details: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0}
2026-02-20 15:29:36 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 15:29:36 [INFO] BookingService: Launching browser ...
2026-02-20 15:29:39 [INFO] BookingService: Logging in ...
2026-02-20 15:29:43 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 15:29:43 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 15:30:16 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 15:30:16 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 15:30:18 [INFO] BookingService: Modal opened.
2026-02-20 15:30:18 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 15:30:18 [INFO] BookingService:   name -> nikshith nikshith
2026-02-20 15:30:19 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 15:30:31 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:30:31 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:30:49 [WARNING] BookingService:   Date fill error [0]: Locator.bounding_box: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first

2026-02-20 15:30:49 [INFO] BookingService:   Date[0] JS fallback -> 03/22/2026
2026-02-20 15:31:19 [WARNING] BookingService:   Date fill error [1]: Locator.bounding_box: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)

2026-02-20 15:31:19 [INFO] BookingService:   Date[1] JS fallback -> 03/25/2026
2026-02-20 15:31:19 [INFO] BookingService:   Select[0] options: ['All Status', 'Confirmed', 'Cancelled']
2026-02-20 15:31:19 [INFO] BookingService:   Select[3] options: ['Select Room Type', 'Premium Suite (â‚¹9440/night)', 'Deluxe Room (â‚¹7150/night)', 'Executive Room (â‚¹6050/night)', 'Family Suite (â‚¹12100/night)', 'Deluxe Sea View Room (â‚¹20060/night)', 'Presidential suite (â‚¹11800/night)']
2026-02-20 15:31:19 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 15:31:31 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:31:31 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 15:31:50 [WARNING] BookingService:   Adults error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").first
    - locator resolved to <input min="1" id="roomId" required="" type="number"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    58 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:32:20 [WARNING] BookingService:   Children error: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[type=\"number\"]").nth(1)
    - locator resolved to <input value="2" required="" type="number" id="adultsCapacity"/>
  - attempting click action
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
    - waiting 20ms
    2 Ã— waiting for element to be visible, enabled and stable
      - element is not visible
    - retrying click action
      - waiting 100ms
    57 Ã— waiting for element to be visible, enabled and stable
       - element is not visible
     - retrying click action
       - waiting 500ms

2026-02-20 15:32:20 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_153220.png
2026-02-20 15:32:20 [INFO] BookingService: Form filled.
2026-02-20 15:32:20 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 15:32:23 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_153223.png
2026-02-20 15:32:24 [INFO] BookingService: Browser closed.
2026-02-20 15:32:24 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 15:32:27 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 15:32:28 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 15:32:30 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 15:32:30 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 15:32:31 IST)" executed successfully
2026-02-20 16:04:24 [INFO] RoomBookingAgent: ============================================================
2026-02-20 16:04:24 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 16:04:24 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 16:04:24 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 16:04:24 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 16:04:24 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 16:04:24 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 16:04:24 [INFO] RoomBookingAgent: ============================================================
2026-02-20 16:04:24 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 16:04:24 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 16:04:26 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 16:04:28 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 16:04:28 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 16:04:28 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 16:04:28 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 16:04:28 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 16:05:28 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:06:28 IST)" (scheduled at 2026-02-20 16:05:28.886851+05:30)
2026-02-20 16:05:28 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 16:05:28 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 16:05:29 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 16:05:31 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 16:05:32 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 16:05:32 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 16:05:33 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 16:05:33 [WARNING] BookingParser: Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYKAxvTuXvhNVPMufK9Xz'}), falling back to regex.
2026-02-20 16:05:33 [INFO] BookingParser: Used regex for parsing.
2026-02-20 16:05:33 [INFO] BookingParser: Final parsed details: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0}
2026-02-20 16:05:33 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 16:05:33 [INFO] BookingService: Launching browser ...
2026-02-20 16:05:37 [INFO] BookingService: Logging in ...
2026-02-20 16:05:41 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 16:05:41 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 16:06:14 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 16:06:14 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 16:06:16 [INFO] BookingService: Modal opened.
2026-02-20 16:06:16 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 16:06:16 [INFO] BookingService:   name -> nikshith nikshith
2026-02-20 16:06:16 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 16:06:28 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:06:28 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 16:06:46 [WARNING] BookingService:   Date[0] primary failed: Locator.bounding_box: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").first
, trying JS fallback ...
2026-02-20 16:06:46 [INFO] BookingService:   Date[0] JS -> 03/22/2026
2026-02-20 16:07:17 [WARNING] BookingService:   Date[1] primary failed: Locator.bounding_box: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("input[placeholder=\"mm/dd/yyyy\"]").nth(1)
, trying JS fallback ...
2026-02-20 16:07:17 [INFO] BookingService:   Date[1] JS -> 03/25/2026
2026-02-20 16:07:17 [INFO] BookingService:   Select[0] options: ['All Status', 'Confirmed', 'Cancelled']
2026-02-20 16:07:17 [INFO] BookingService:   Select[3] options: ['Select Room Type', 'Premium Suite (â‚¹9440/night)', 'Deluxe Room (â‚¹7150/night)', 'Executive Room (â‚¹6050/night)', 'Family Suite (â‚¹12100/night)', 'Deluxe Sea View Room (â‚¹20060/night)', 'Presidential suite (â‚¹11800/night)']
2026-02-20 16:07:17 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 16:07:18 [INFO] BookingService:   Filling adults = 2
2026-02-20 16:07:28 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:07:28 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 16:07:48 [WARNING] BookingService:   Number[0] error: Locator.scroll_into_view_if_needed: Timeout 29990ms exceeded.
Call log:
  - attempting scroll into view action
    2 Ã— waiting for element to be stable
      - element is not visible
    - retrying scroll into view action
    - waiting 20ms
    2 Ã— waiting for element to be stable
      - element is not visible
    - retrying scroll into view action
      - waiting 100ms
    56 Ã— waiting for element to be stable
       - element is not visible
     - retrying scroll into view action
       - waiting 500ms

2026-02-20 16:07:48 [INFO] BookingService:   Number[0] JS -> 2
2026-02-20 16:07:48 [INFO] BookingService:   Filling children = 0
2026-02-20 16:08:18 [WARNING] BookingService:   Number[1] error: Locator.scroll_into_view_if_needed: Timeout 29989ms exceeded.
Call log:
  - attempting scroll into view action
    2 Ã— waiting for element to be stable
      - element is not visible
    - retrying scroll into view action
    - waiting 20ms
    2 Ã— waiting for element to be stable
      - element is not visible
    - retrying scroll into view action
      - waiting 100ms
    56 Ã— waiting for element to be stable
       - element is not visible
     - retrying scroll into view action
       - waiting 500ms

2026-02-20 16:08:18 [INFO] BookingService:   Number[1] JS -> 0
2026-02-20 16:08:18 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_160818.png
2026-02-20 16:08:18 [INFO] BookingService: Form filled - check logs/screenshot_form_filled_*.png
2026-02-20 16:08:18 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 16:08:21 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_160821.png
2026-02-20 16:08:22 [INFO] BookingService: Browser closed.
2026-02-20 16:08:22 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 16:08:26 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 16:08:28 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:08:28 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 16:08:29 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 16:08:29 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:09:28 IST)" executed successfully
2026-02-20 16:08:29 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 16:14:02 [INFO] RoomBookingAgent: ============================================================
2026-02-20 16:14:02 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 16:14:02 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 16:14:02 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 16:14:02 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 16:14:02 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 16:14:02 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 16:14:02 [INFO] RoomBookingAgent: ============================================================
2026-02-20 16:14:02 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 16:14:02 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 16:14:03 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 16:14:06 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 16:14:06 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 16:14:06 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 16:14:06 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 16:14:06 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 16:15:06 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:16:06 IST)" (scheduled at 2026-02-20 16:15:06.733864+05:30)
2026-02-20 16:15:06 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 16:15:06 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 16:15:07 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 16:15:09 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 16:15:13 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 16:15:13 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 16:15:14 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 16:15:14 [WARNING] BookingParser: Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYKBhnW8HDqjcgczzQ4Ym'}), falling back to regex.
2026-02-20 16:15:14 [INFO] BookingParser: Used regex for parsing.
2026-02-20 16:15:14 [INFO] BookingParser: Final parsed details: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0}
2026-02-20 16:15:14 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 16:15:14 [INFO] BookingService: Launching browser ...
2026-02-20 16:15:17 [INFO] BookingService: Logging in ...
2026-02-20 16:15:21 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 16:15:21 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 16:15:54 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 16:15:54 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 16:15:57 [INFO] BookingService: Modal opened.
2026-02-20 16:15:57 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 16:15:57 [INFO] BookingService:   name -> nikshith nikshith
2026-02-20 16:15:57 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 16:15:57 [INFO] BookingService:   Date[0] set to '2026-03-22', actual='2026-03-22'
2026-02-20 16:15:57 [INFO] BookingService:   check-in -> 2026-03-22
2026-02-20 16:15:57 [INFO] BookingService:   Date[1] set to '2026-03-25', actual='2026-03-25'
2026-02-20 16:15:57 [INFO] BookingService:   check-out -> 2026-03-25
2026-02-20 16:15:58 [INFO] BookingService:   Select[0] options: ['All Status', 'Confirmed', 'Cancelled']
2026-02-20 16:15:58 [INFO] BookingService:   Select[3] options: ['Select Room Type', 'Premium Suite (â‚¹9440/night)', 'Deluxe Room (â‚¹7150/night)', 'Executive Room (â‚¹6050/night)', 'Family Suite (â‚¹12100/night)', 'Deluxe Sea View Room (â‚¹20060/night)', 'Presidential suite (â‚¹11800/night)']
2026-02-20 16:15:58 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 16:15:59 [INFO] BookingService:   Number[0] set to 2, actual='2'
2026-02-20 16:15:59 [INFO] BookingService:   adults -> 2
2026-02-20 16:15:59 [INFO] BookingService:   Number[1] set to 0, actual='0'
2026-02-20 16:15:59 [INFO] BookingService:   children -> 0
2026-02-20 16:16:00 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_161559.png
2026-02-20 16:16:00 [INFO] BookingService: Form filled - check logs/screenshot_form_filled_*.png
2026-02-20 16:16:00 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 16:16:02 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_161602.png
2026-02-20 16:16:03 [INFO] BookingService: Browser closed.
2026-02-20 16:16:03 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 16:16:06 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:16:06 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 16:16:07 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 16:16:10 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 16:16:10 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:17:06 IST)" executed successfully
2026-02-20 16:16:16 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
2026-02-20 16:21:31 [INFO] RoomBookingAgent: ============================================================
2026-02-20 16:21:31 [INFO] RoomBookingAgent: Room Booking AI Agent Starting
2026-02-20 16:21:31 [INFO] RoomBookingAgent:   Gmail    : nikshithhpalan@gmail.com
2026-02-20 16:21:31 [INFO] RoomBookingAgent:   Hotel    : https://booking.heykoala.ai/
2026-02-20 16:21:31 [INFO] RoomBookingAgent:   Username : denisonsadmin
2026-02-20 16:21:31 [INFO] RoomBookingAgent:   Interval : 60s
2026-02-20 16:21:31 [INFO] RoomBookingAgent:   Headless : false
2026-02-20 16:21:31 [INFO] RoomBookingAgent: ============================================================
2026-02-20 16:21:31 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 16:21:31 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 16:21:33 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 16:21:36 [INFO] RoomBookingAgent: No new booking emails.
2026-02-20 16:21:36 [INFO] apscheduler.scheduler: Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-20 16:21:36 [INFO] RoomBookingAgent: Scheduler running. Checking every 60s. Ctrl+C to stop.
2026-02-20 16:21:36 [INFO] apscheduler.scheduler: Added job "process_booking_emails" to job store "default"
2026-02-20 16:21:36 [INFO] apscheduler.scheduler: Scheduler started
2026-02-20 16:22:36 [INFO] apscheduler.executors.default: Running job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:23:36 IST)" (scheduled at 2026-02-20 16:22:36.318159+05:30)
2026-02-20 16:22:36 [INFO] RoomBookingAgent: ------------------------------------------------------------
2026-02-20 16:22:36 [INFO] RoomBookingAgent: Checking Gmail for new booking requests ...
2026-02-20 16:22:36 [INFO] BookingParser: Claude AI parser initialized.
2026-02-20 16:22:38 [INFO] EmailReader: ðŸ“¬ Found 1 unread booking email(s).
2026-02-20 16:22:39 [INFO] RoomBookingAgent: 1 new request(s) found.
2026-02-20 16:22:39 [INFO] RoomBookingAgent: From: nikshithharish1234@gmail.com  |  Room Booking
2026-02-20 16:22:40 [INFO] httpx: HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2026-02-20 16:22:40 [WARNING] BookingParser: Claude parsing failed (Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CYKCGepgPZTPD6SQRij4c'}), falling back to regex.
2026-02-20 16:22:40 [INFO] BookingParser: Used regex for parsing.
2026-02-20 16:22:40 [INFO] BookingParser: Final parsed details: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0}
2026-02-20 16:22:40 [INFO] RoomBookingAgent: Parsed: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 16:22:40 [INFO] BookingService: Launching browser ...
2026-02-20 16:22:44 [INFO] BookingService: Logging in ...
2026-02-20 16:22:48 [INFO] BookingService: Logged in -> https://booking.heykoala.ai/
2026-02-20 16:22:48 [INFO] BookingService: Navigating to Bookings ...
2026-02-20 16:23:21 [INFO] BookingService: On bookings page -> https://booking.heykoala.ai/
2026-02-20 16:23:21 [INFO] BookingService: Opening Create Booking modal ...
2026-02-20 16:23:23 [INFO] BookingService: Modal opened.
2026-02-20 16:23:23 [INFO] BookingService: Filling form: {'guest_name': 'nikshith nikshith', 'check_in': '2026-03-22', 'check_out': '2026-03-25', 'room_type': 'Deluxe', 'num_adults': 2, 'num_children': 0, 'guest_email': 'nikshithharish1234@gmail.com'}
2026-02-20 16:23:23 [INFO] BookingService:   name -> nikshith nikshith
2026-02-20 16:23:23 [INFO] BookingService:   email -> nikshithharish1234@gmail.com
2026-02-20 16:23:25 [INFO] BookingService:   Date[0] typed '03222026' -> field=''
2026-02-20 16:23:25 [WARNING] BookingService:   Date mismatch! Expected '2026-03-22' got ''. Trying JS fallback ...
2026-02-20 16:23:25 [INFO] BookingService:   Date[0] JS set -> actual='2026-03-22'
2026-02-20 16:23:28 [INFO] BookingService:   Date[1] typed '03252026' -> field=''
2026-02-20 16:23:28 [WARNING] BookingService:   Date mismatch! Expected '2026-03-25' got ''. Trying JS fallback ...
2026-02-20 16:23:28 [INFO] BookingService:   Date[1] JS set -> actual='2026-03-25'
2026-02-20 16:23:29 [INFO] BookingService:   room type -> Deluxe Room (â‚¹7150/night)
2026-02-20 16:23:29 [INFO] BookingService:   Number[0] -> 2  actual='2'
2026-02-20 16:23:29 [INFO] BookingService:   adults -> 2
2026-02-20 16:23:29 [INFO] BookingService:   Number[1] -> 0  actual='0'
2026-02-20 16:23:29 [INFO] BookingService:   children -> 0
2026-02-20 16:23:30 [INFO] BookingService: Screenshot saved: logs/screenshot_form_filled_20260220_162330.png
2026-02-20 16:23:30 [INFO] BookingService: Form filled.
2026-02-20 16:23:30 [INFO] BookingService: Clicking Confirm Booking ...
2026-02-20 16:23:33 [INFO] BookingService: Screenshot saved: logs/screenshot_after_confirm_20260220_162333.png
2026-02-20 16:23:34 [INFO] BookingService: Browser closed.
2026-02-20 16:23:34 [WARNING] RoomBookingAgent: Booking failed: Booking result unclear. Check logs/screenshots.
2026-02-20 16:23:36 [WARNING] apscheduler.scheduler: Execution of job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:23:36 IST)" skipped: maximum number of running instances reached (1)
2026-02-20 16:23:38 [INFO] EmailSender: ðŸ“§ Failure notification sent to nikshithharish1234@gmail.com
2026-02-20 16:23:40 [INFO] RoomBookingAgent: All emails processed.
2026-02-20 16:23:40 [INFO] apscheduler.executors.default: Job "process_booking_emails (trigger: interval[0:01:00], next run at: 2026-02-20 16:24:36 IST)" executed successfully
2026-02-20 16:23:56 [INFO] RoomBookingAgent: Agent stopped. Goodbye!
